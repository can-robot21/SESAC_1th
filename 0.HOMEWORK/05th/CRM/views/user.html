{% include "header.html" %}
{% include "menu.html" %}

<div class="main" id="subtitle">
    <h2> {{ title }} </h2>
</div>
<div class="main" id="message">
    <h1> |{{ message }} </h1>
</div>

<table>
    <thead>
        <tr>
            <td>사용자ID</td>
            <td>이름</td>
            <td>성별</td>
            <td>나이</td>
            <td>생년월일</td>
        </tr>
    </thead>
    <tbody>
        {% if users.length > 0 %}
        {% for user in users %}
        <tr>
            <td><a href="/userDetail?userId={{ user.field1 }}">{{ user.field1 }}</a></td>
            <td>{{ user.field2 }}</td>
            <td>{{ user.field3 }}</td>
            <td>{{ user.field5 }}</td>
            <td>{{ user.field4 }}</td>
        </tr>
        {%  endfor %}
        {% else %}
        <tr>
            <td colspan="5" id="nodata">데이터 없음</td>
        </tr>
        {% endif %}
    </tbody>

</table>
<br>

<table class="pagination">
    <tr >
        <td >
            <!-- <div id="paginationInBox">
                {% for i in range(1, totalPages + 1) %}
                <div id="pageNo">
                    <a href="/user?page={{ i }}">{{ i }}</a>
                </div>
                {% endfor %}
            </div> -->
                         <!-- 페이지 네이션 -->
                         <div id="paginationInBox">
                            {% if currentPage > 1 %}
                            <div id="pageNo">
                                <a href="/user?page=1">1</a>
                            </div>
                            {% endif %}
                            
                            {% if currentPage > 11 %}
                            <div id="pageNo">
                                <a href="/user?page={{ currentPage - 10 }}">[이전]</a>
                            </div>
                            {% endif %}
                            
                            {% for i in range(startPage, endPage + 1) %}
                            <div id="pageNo">
                                <a href="/user?page={{ i }}">{{ i }}</a>
                            </div>
                            {% endfor %}
                            
                            {% if currentPage < totalPages - 10 %}
                            <div id="pageNo">
                                <a href="/user?page={{ currentPage + 10 }}">[다음]</a>
                            </div>
                            {% endif %}
                            
                            {% if currentPage < totalPages %}
                            <div id="pageNo">
                                <a href="/user?page={{ totalPages }}">{{ totalPages }}</a>
                            </div>
                            {% endif %}
                        </div>
                        <!-- 페이지 네이션 -->
        </td>
    </tr>
</table>


{% include "footer.html" %}